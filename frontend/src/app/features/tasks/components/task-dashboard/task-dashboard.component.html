<div class="dashboard-container">
  <header class="dashboard-header">
    <h1>Task Dashboard</h1>
    <div class="header-actions">
      <button 
        class="refresh-button" 
        (click)="onRefresh()"
        [disabled]="isLoading"
        title="Refresh tasks"
      >
        ğŸ”„ Refresh
      </button>
      <button 
        class="create-button" 
        (click)="navigateToCreate()"
        [disabled]="isLoading"
      >
        + Create New Task
      </button>
    </div>
  </header>

  <div class="dashboard-content">
    <div *ngIf="errorMessage" class="error-container">
      <app-error-message [message]="errorMessage"></app-error-message>
      <button class="retry-button" (click)="onRefresh()" [disabled]="isLoading">
        ğŸ”„ Retry Loading Tasks
      </button>
    </div>
    
    <div *ngIf="isLoading" class="loading-container">
      <app-loading-spinner></app-loading-spinner>
      <p>Loading tasks...</p>
    </div>
    
    <div *ngIf="!isLoading" class="tasks-container">
      <div *ngIf="tasks.length === 0" class="empty-state">
        <div class="empty-icon">ğŸ“</div>
        <h3>No tasks yet</h3>
        <p>Create your first task to get started!</p>
        <button class="create-button-secondary" (click)="navigateToCreate()">
          Create Task
        </button>
      </div>

      <div *ngIf="tasks.length > 0" class="tasks-grid">
        <div *ngFor="let task of tasks; trackBy: trackByTaskId" class="task-card">
          <div class="task-header">
            <h3 class="task-title">{{ task.title }}</h3>
            <div class="task-status" [style.background-color]="getStatusColor(task.status)">
              {{ getStatusLabel(task.status) }}
            </div>
          </div>
          
          <p class="task-description">{{ task.description }}</p>
          
          <div class="task-meta">
            <span class="task-date">Created: {{ formatDate(task.createdAt) }}</span>
            <span class="task-date">Updated: {{ formatDate(task.updatedAt) }}</span>
          </div>
          
          <div class="task-actions">
            <button 
              class="edit-button" 
              (click)="navigateToEdit(task.id)"
              title="Edit task"
            >
              âœï¸ Edit
            </button>
            <button 
              class="delete-button" 
              (click)="onDeleteTask(task.id)"
              title="Delete task"
            >
              ğŸ—‘ï¸ Delete
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>